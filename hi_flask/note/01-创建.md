+ day01 2020-05-18

## Flask

### 虚拟环境

### Flask项目结构
    + flask01

### Flask 配置和访问

```text
(venv) % python flask01/app.py
 * Serving Flask app 'app' (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
```

+ WSGI

+ flask 内置服务器


Flask 是一个微框架

Flask是一个基于Python实现的Web开发‘微’框架

官方：https://flask.palletsprojects.com/

https://github.com/luhuisicnu/The-Flask-Mega-Tutorial-zh

Flask和Django一样，也是一个基于MVC设计模式的Web框架

Flask依赖三个库
	Jinja2 模板引擎
	Werkzeug WSGI工具集  https://werkzeug.palletsprojects.com/en/0.16.x/

Flask流行的主要原因:
	1. 有非常齐全的官方文档，上手非常方便
	2. 有非常好的扩展机制和第三方扩展环境，工作中常见的软件都会有对应的扩展。自己动手实现扩展也很容易
	3. 社区活跃度非常高
	4. 微型框架的形式给了开发者更大的选择空间


MVC MVT

本质上与MVC没什么差别，也是各组件之间为了保持松耦合关系，只是定义上有些许不同。

Model:负责业务对象与数据库（ORM）的对象

View:负责业务逻辑，并在适当的时候调用Model和Template

Template:负责把页面展示给用户


Flask 应用



### 项目结构种类
一个项目，多个应用(类似django的项目结构)
一个项目，一个应用，多个模块


### Linux   

- 环境变量
  - 系统级
    - /etc/envirtonment
    - /etc/profile
  - 用户级
    - ~/.bashrc
  - 临时级
    - 在窗口中直接export


Views
请求的流程：



路由参数获取
写法
	<converter:variable_name>
converter类型
	string 接收任何没有斜杠（‘/’）的文件（默认）
	int	接收整型
	float	接收浮点型
	path	接收路径，可接收斜线（’/’）
	uuid	只接受uuid字符串，唯一码，一种生成规则
	any	可以同时指定多种路径，进行限定

route规则
请求方法
	@app.route(‘/rule/’,methods=[‘GET’,’POST’])
	def hello():
		return ‘LOL’
methods中指定请求方法
	GET
	POST
	HEAD 
	PUT
	DELETE
url_for
	反向解析，根据函数名字，获取反向路径
	url_for(‘函数名’,参数名=value)







### flask 请求和响应
+ http 协议

+ request 
	+ 请求行
	+ 请求头
	+ 请求体

+ response
	+ 响应行
	+ 响应头
	+ 响应体
